<head>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
{% extends "layout.html" %}

{% block body %}

<div class="container">
    <div class="h1 d-flex justify-content-center mt-5" style="color: #1DB954;">Welcome to EmoTunes!</div>
    <div class="d-flex justify-content-center mt-5">
        <button id="startButton" class="btn btn-lg mr-4">Scan Emotion</button>
        <button id="stopButton" class="btn btn-lg"  onclick="textDisplay()">Create Playlist</button>    
    </div>



    <script>
        $(document).ready(function () {
            $("#startButton").click(function () {
                // Make AJAX request to start the camera
                $.ajax({
                    url: "/start_camera",
                    type: "POST",
                    success: function (response) {
                        console.log(response);
                    },
                    error: function (error) {
                        console.log("Error starting camera:", error);
                    }
                });
            });
            
            $("#stopButton").click(function () {
              // Make AJAX request to stop the camera
              $.ajax({
                  url: "/stop_camera",
                  type: "POST",
                  success: function (response) {
                      console.log(response);
                  },
                  error: function (error) {
                      console.log("Error stopping camera:", error);
                  }
              });
            });

        });
    </script>

    <!-- {% block paragraph %}{% endblock %} -->

    

    <div class="fixed-bottom text-center text-muted " style="color: white; background-color: #1a232dac; font-size: 14px; padding: 9px;">
        <div  class="text-center" style="margin-left: auto;">EmoTunes may take a moment to process emotions and generate playlists •
            Ensure a stable internet connection for seamless Spotify integration •
            Feel free to customize your playlists further within the Spotify app</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>



    <script>

        $(document).ready(function () {
            $('[data-toggle="popover"]').popover();
        });

        function textDisplay(){
            document.getElementById('stopButton').innerHTML="Creating Playlist...";
            document.getElementById('startButton').style.display="none";
        }


    </script>
</div>

{% endblock %}
